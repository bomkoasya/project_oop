@startuml
skinparam state {
  BackgroundColor LightCyan
  BorderColor DarkSlateGray
}

' Початковий стан
[*] --> Створений : Користувач створює\nновий бюджет

state Створений
state Активний
state "Наближається до ліміту\n(Warning)" as Warning
state "Перевищений\n(Exceeded)" as Exceeded
state Завершений

Створений --> Активний : Початок періоду\n(напр., 1-ше число місяця)

Активний --> Активний : Додана транзакція\n[сума витрат < 80% ліміту]
Активний --> Warning : Додана транзакція\n[сума витрат >= 80% ліміту]

Warning --> Warning : Додана транзакція\n[сума витрат <= 100% ліміту]
Warning --> Exceeded : Додана транзакція\n[сума витрат > 100% ліміту]

Exceeded --> Exceeded : Додана транзакція\n[перевитрата зростає]

' Переходи до завершення
Активний --> Завершений : Кінець періоду
Warning --> Завершений : Кінець періоду
Exceeded --> Завершений : Кінець періоду

' Кінцевий стан
Завершений --> [*]

note right of Warning
  Коли витрати досягають 80%,
  система може генерувати 
  сповіщення для користувача.
end note

note right of Exceeded
  У цьому стані функція
  suggestSavings() 
  повертатиме 0 або від'ємне значення.
end note

@enduml