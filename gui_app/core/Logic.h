#pragma once
#include "User.h"
#include "Database.h"

/**
 * @file Logic.h
 * @brief Оголошення основних функцій бізнес-логіки програми.
 *
 * Цей файл містить набір вільних функцій, які діють як "контролер"
 * або "сервісний шар", пов'язуючи об'єкти даних (User, Database)
 * з діями, які викликає GUI.
 */

/**
 * @brief Завантажує дані користувача з бази даних при старті програми.
 * @param user Об'єкт користувача (вихідний параметр), який буде заповнено даними.
 * @param db Об'єкт бази даних, з якої відбувається читання.
 */
void loadUserData(User& user, Database& db);

/**
 * @brief Зберігає дані користувача в базу даних (наприклад, при виході).
 * @param user Об'єкт користувача (вхідний параметр, const), дані якого потрібно зберегти.
 */
void saveUserData(const User& user);

/**
 * @brief Обробляє логіку, пов'язану з вікном додавання транзакцій.
 * @param user Об'єкт користувача, до якого додається транзакція.
 * @param db База даних, в яку зберігається нова транзакція.
 * @note Ця функція, ймовірно, викликається з @c TransactionsWindow.
 */
void addTransaction(User& user, Database& db);

/**
 * @brief Обробляє логіку, пов'язану з вікном показу транзакцій.
 * @param user Користувач (const), чиї транзакції будуть відображені.
 * @note Ця функція, ймовірно, викликається з @c ShowTransactionsWindow.
 */
void showTransactions(const User& user);

/**
 * @brief Обробляє логіку, пов'язану з вікном генерації звітів.
 * @param user Користувач (const), на основі даних якого генерується звіт.
 * @note Ця функція, ймовірно, викликається з @c ReportsWindow.
 */
void handleReports(const User& user);

/**
 * @brief Обробляє логіку імпорту/експорту даних.
 * @param user Користувач, дані якого імпортуються/експортуються.
 * @param db База даних, з якою відбувається обмін.
 * @note Ця функція, ймовірно, викликається з @c DataWindow.
 */
void handleDataIO(User& user, Database& db);

/**
 * @brief Обробляє логіку фінансового прогнозування.
 * @param db База даних (const), на основі якої будується прогноз.
 * @note Ця функція, ймовірно, викликається з @c ForecastWindow.
 */
void handleForecasting(const Database& db);
